(()=>{var e={};e.id=4631,e.ids=[4631],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16533:(e,r,a)=>{Promise.resolve().then(a.bind(a,22221))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22221:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});var t=a(60687),s=a(43210),d=a(67743),i=a(36749),n=a(86879);function l(e){e?.initialAgentInfo;let[r,a]=(0,s.useState)("profile"),[l,o]=(0,s.useState)(!0),[c,x]=(0,s.useState)({email:!0,push:!1,sms:!0}),[g,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[b,u]=(0,s.useState)(!1),[y,f]=(0,s.useState)(!1),[j,k]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[N,w]=(0,s.useState)({id:"",firstName:"",lastName:"",email:"",phoneNumber:"",agencyName:"",agencyCode:"",status:"",role:"",createdAt:"",lastLogin:""}),[v,P]=(0,s.useState)({firstName:"",lastName:"",email:"",phoneNumber:""}),C=e=>{let{name:r,value:a}=e.target;k(e=>({...e,[r]:a}))},S=e=>{let{name:r,value:a}=e.target;P(e=>({...e,[r]:a}))},_=async()=>{try{let e=n.Z.getAccessToken(),r=await fetch("http://localhost:4000/v1/agency/profile/update",{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(v)});if(r.ok){if((await r.json()).success){w(e=>({...e,...v})),f(!1);let e=n.Z.getUserData(),r="",a="";try{let e=sessionStorage.getItem("at");if(e){let t=JSON.parse(window.atob(e));r=t.accessToken||"",a=t.refreshToken||""}}catch{}let t={id:e?.id,name:`${v.firstName} ${v.lastName}`,email:v.email,phoneNumber:v.phoneNumber,category:e?.category,accessToken:r,refreshToken:a};n.Z.setUserData(t),alert("Profile updated successfully!")}}else throw Error("Failed to update profile")}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile. Please try again.")}},A=async()=>{if(j.newPassword!==j.confirmPassword)return void alert("New passwords do not match!");try{let e=n.Z.getAccessToken(),r=await fetch("http://localhost:4000/v1/agency/profile/change-password",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:j.currentPassword,newPassword:j.newPassword})});if(r.ok){let e=await r.json();e.success?(alert("Password updated successfully!"),k({currentPassword:"",newPassword:"",confirmPassword:""})):alert(e.message||"Failed to update password")}else throw Error("Failed to update password")}catch(e){console.error("Error updating password:",e),alert("Failed to update password. Please try again.")}},D=e=>{x(r=>({...r,[e]:!r[e]}))},O=[{id:"profile",label:"Profile",icon:(0,t.jsx)(i.JXP,{})},{id:"security",label:"Security",icon:(0,t.jsx)(i.F5$,{})},{id:"appearance",label:"Appearance",icon:(0,t.jsx)(i.hkc,{})},{id:"notifications",label:"Notifications",icon:(0,t.jsx)(i.zd,{})},{id:"privacy",label:"Privacy",icon:(0,t.jsx)(i.pcC,{})},{id:"payment",label:"Payment Methods",icon:(0,t.jsx)(i.lZI,{})},{id:"language",label:"Language",icon:(0,t.jsx)(i.VeH,{})},{id:"help",label:"Help & Support",icon:(0,t.jsx)(i.lrG,{})}];return(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 md:p-6",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:(0,t.jsxs)("div",{className:"md:flex",children:[(0,t.jsxs)("div",{className:"md:w-64 md:border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your account preferences"})]}),(0,t.jsx)("nav",{className:"p-4",children:(0,t.jsx)("ul",{className:"space-y-2",children:O.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)("button",{onClick:()=>a(e.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition ${r===e.id?"bg-[#ff6600] text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,t.jsx)("span",{className:"text-lg",children:e.icon}),(0,t.jsx)("span",{children:e.label})]})},e.id))})})]}),(0,t.jsx)("div",{className:"flex-1 p-6",children:(0,t.jsx)(d.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:(()=>{switch(r){case"profile":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),(0,t.jsxs)("button",{onClick:()=>f(!y),className:"flex items-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65c00] text-white rounded-lg transition",children:[y?(0,t.jsx)(i.Bc_,{className:"w-4 h-4"}):(0,t.jsx)(i.SG1,{className:"w-4 h-4"}),y?"Save Changes":"Edit Profile"]})]}),!y&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:N.firstName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:N.lastName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:N.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:N.phoneNumber})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agency Name"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:N.agencyName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agency Code"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:N.agencyCode})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===N.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:N.status})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role"}),(0,t.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white capitalize",children:N.role})]})]})]}),y&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),(0,t.jsx)("input",{type:"text",name:"firstName",value:v.firstName,onChange:S,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),(0,t.jsx)("input",{type:"text",name:"lastName",value:v.lastName,onChange:S,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",value:v.email,onChange:S,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",name:"phoneNumber",value:v.phoneNumber,onChange:S,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex gap-3",children:[(0,t.jsx)("button",{onClick:_,className:"bg-[#ff6600] hover:bg-[#e65c00] text-white px-6 py-2 rounded-lg transition",children:"Save Changes"}),(0,t.jsx)("button",{onClick:()=>f(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition",children:"Cancel"})]})]})]});case"security":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Change Password"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:g?"text":"password",name:"currentPassword",value:j.currentPassword,onChange:C,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white pr-10"}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>m(!g),children:g?(0,t.jsx)(i._NO,{}):(0,t.jsx)(i.Vap,{})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:p?"text":"password",name:"newPassword",value:j.newPassword,onChange:C,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white pr-10"}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>h(!p),children:p?(0,t.jsx)(i._NO,{}):(0,t.jsx)(i.Vap,{})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:b?"text":"password",name:"confirmPassword",value:j.confirmPassword,onChange:C,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white pr-10"}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>u(!b),children:b?(0,t.jsx)(i._NO,{}):(0,t.jsx)(i.Vap,{})})]})]})]}),(0,t.jsx)("button",{onClick:A,className:"bg-[#ff6600] hover:bg-[#e65c00] text-white px-6 py-2 rounded-lg transition",children:"Update Password"}),(0,t.jsxs)("div",{className:"pt-6 mt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Two-Factor Authentication"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"2FA is disabled"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add an extra layer of security to your account"})]}),(0,t.jsx)("button",{className:"bg-[#ff6600] hover:bg-[#e65c00] text-white px-4 py-2 rounded-lg text-sm transition",children:"Enable"})]})]})]});case"appearance":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Appearance"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[l?(0,t.jsx)(i.hkc,{className:"text-[#ff6600]"}):(0,t.jsx)(i.Wh$,{className:"text-[#ff6600]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Dark Mode"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l?"Dark theme is enabled":"Light theme is enabled"})]})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:l,onChange:()=>o(!l),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#ff6600]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Font Size"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["Small","Medium","Large"].map(e=>(0,t.jsx)("button",{className:"py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg text-center hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:e},e))})]})]});case"notifications":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Notification Preferences"}),Object.entries(c).map(([e,r])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white capitalize",children:[e," Notifications"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r?"Enabled":"Disabled"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:r,onChange:()=>D(e),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#ff6600]"})]})]},e))]});default:return(0,t.jsx)("div",{children:"Select a settings category"})}})()},r)})]})})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},62623:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Bwiza Leathitia\\\\OneDrive\\\\Documents\\\\ddin-projects\\\\2025-projects\\\\ddin-web-app\\\\src\\\\app\\\\dashboard\\\\settings\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Bwiza Leathitia\\OneDrive\\Documents\\ddin-projects\\2025-projects\\ddin-web-app\\src\\app\\dashboard\\settings\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74677:(e,r,a)=>{Promise.resolve().then(a.bind(a,62623))},79551:e=>{"use strict";e.exports=require("url")},96387:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>o});var t=a(65239),s=a(48088),d=a(88170),i=a.n(d),n=a(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);a.d(r,l);let o={children:["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,62623)),"C:\\Users\\Bwiza Leathitia\\OneDrive\\Documents\\ddin-projects\\2025-projects\\ddin-web-app\\src\\app\\dashboard\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,63144)),"C:\\Users\\Bwiza Leathitia\\OneDrive\\Documents\\ddin-projects\\2025-projects\\ddin-web-app\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"C:\\Users\\Bwiza Leathitia\\OneDrive\\Documents\\ddin-projects\\2025-projects\\ddin-web-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Bwiza Leathitia\\OneDrive\\Documents\\ddin-projects\\2025-projects\\ddin-web-app\\src\\app\\dashboard\\settings\\page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[4447,5594,3787,444,1018],()=>a(96387));module.exports=t})();