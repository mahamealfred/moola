(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4631],{35695:(e,r,t)=>{"use strict";var a=t(18999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},48163:(e,r,t)=>{Promise.resolve().then(t.bind(t,55149))},55149:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(95155),s=t(12115),l=t(55430),n=t(10351),i=t(91541);function d(e){let r=null==e?void 0:e.initialAgentInfo,[t,d]=(0,s.useState)("profile"),[o,c]=(0,s.useState)(!0),[g,m]=(0,s.useState)("medium"),[u,x]=(0,s.useState)("en"),[h,p]=(0,s.useState)({email:!0,push:!1,sms:!0,transactionAlerts:!0,securityAlerts:!0,marketing:!1}),[y,b]=(0,s.useState)({profileVisibility:"private",dataSharing:!1,activityStatus:!0,personalizedAds:!1}),[f,N]=(0,s.useState)(!1),[j,k]=(0,s.useState)(!1),[v,w]=(0,s.useState)(!1),[S,P]=(0,s.useState)(!1),[C,E]=(0,s.useState)(!1),[D,O]=(0,s.useState)(!1),[A,_]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[T,I]=(0,s.useState)({type:"mobile_money",provider:"",phoneNumber:"",accountName:"",cardNumber:"",expiryDate:"",cvv:""}),[F,U]=(0,s.useState)({id:"",firstName:"",lastName:"",email:"",phoneNumber:"",agencyName:"",agencyCode:"",status:"",role:"",createdAt:"",lastLogin:""}),[M,z]=(0,s.useState)({firstName:"",lastName:"",email:"",phoneNumber:""}),[J,K]=(0,s.useState)([{id:"1",type:"mobile_money",provider:"MTN Mobile Money",phoneNumber:"078****123",isDefault:!0},{id:"2",type:"bank_account",provider:"Bank of Kigali",accountName:"John Doe",lastFour:"7890",isDefault:!1}]),Y=[{code:"en",name:"English",nativeName:"English"},{code:"fr",name:"French",nativeName:"Fran\xe7ais"},{code:"rw",name:"Kinyarwanda",nativeName:"Kinyarwanda"},{code:"sw",name:"Swahili",nativeName:"Kiswahili"}];(0,s.useEffect)(()=>{(()=>{try{let t=i.Z.getUserData();if(t){var e;let r=(t.name||"").split(" "),a=r.shift()||"",s=r.join(" ")||"";U({id:null!=(e=t.id)?e:"",firstName:a,lastName:s,email:t.email||"",phoneNumber:t.phoneNumber||"",agencyName:t.agencyName||"",agencyCode:t.agencyCode||"",status:t.status||"active",role:t.category||"agent",createdAt:t.createdAt||"",lastLogin:t.lastLogin||new Date().toISOString()}),z({firstName:a,lastName:s,email:t.email||"",phoneNumber:t.phoneNumber||""})}else r&&(U(r),z({firstName:r.firstName,lastName:r.lastName,email:r.email,phoneNumber:r.phoneNumber}));let a=localStorage.getItem("darkMode");null!==a&&c("true"===a);let s=localStorage.getItem("fontSize");s&&m(s);let l=localStorage.getItem("language");l&&x(l);let n=localStorage.getItem("notificationPreferences");n&&p(JSON.parse(n));let d=localStorage.getItem("privacySettings");d&&b(JSON.parse(d));let o=localStorage.getItem("twoFactorEnabled");null!==o&&O("true"===o);let g=localStorage.getItem("paymentMethods");g&&K(JSON.parse(g))}catch(e){console.error("Error loading settings:",e)}})()},[r]),(0,s.useEffect)(()=>{o?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},[o]),(0,s.useEffect)(()=>{document.documentElement.style.fontSize="small"===g?"14px":"large"===g?"18px":"16px",localStorage.setItem("fontSize",g)},[g]),(0,s.useEffect)(()=>{localStorage.setItem("notificationPreferences",JSON.stringify(h))},[h]),(0,s.useEffect)(()=>{localStorage.setItem("privacySettings",JSON.stringify(y))},[y]),(0,s.useEffect)(()=>{localStorage.setItem("twoFactorEnabled",D.toString())},[D]),(0,s.useEffect)(()=>{localStorage.setItem("language",u)},[u]),(0,s.useEffect)(()=>{localStorage.setItem("paymentMethods",JSON.stringify(J))},[J]);let V=e=>{let{name:r,value:t}=e.target;_(e=>({...e,[r]:t}))},L=e=>{let{name:r,value:t}=e.target;z(e=>({...e,[r]:t}))},R=e=>{let{name:r,value:t}=e.target;I(e=>({...e,[r]:t}))},Z=async()=>{try{let e=i.Z.getAccessToken(),r=await fetch("https://core-api.ddin.rw/v1/agency/profile/update",{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(M)});if(r.ok){if((await r.json()).success){U(e=>({...e,...M})),P(!1);let e=i.Z.getUserData(),r="",t="";try{let e=sessionStorage.getItem("at");if(e){let a=JSON.parse(window.atob(e));r=a.accessToken||"",t=a.refreshToken||""}}catch(e){}let a={id:null==e?void 0:e.id,name:"".concat(M.firstName," ").concat(M.lastName),email:M.email,phoneNumber:M.phoneNumber,category:null==e?void 0:e.category,accessToken:r,refreshToken:t};i.Z.setUserData(a),alert("Profile updated successfully!")}}else throw Error("Failed to update profile")}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile. Please try again.")}},B=async()=>{if(A.newPassword!==A.confirmPassword)return void alert("New passwords do not match!");if(A.newPassword.length<6)return void alert("New password must be at least 6 characters long!");try{let e=i.Z.getAccessToken(),r=await fetch("https://core-api.ddin.rw/v1/agency/profile/change-password",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({currentPassword:A.currentPassword,newPassword:A.newPassword})});if(r.ok){let e=await r.json();e.success?(alert("Password updated successfully!"),_({currentPassword:"",newPassword:"",confirmPassword:""})):alert(e.message||"Failed to update password")}else throw Error("Failed to update password")}catch(e){console.error("Error updating password:",e),alert("Failed to update password. Please try again.")}},G=e=>{p(r=>({...r,[e]:!r[e]}))},H=e=>{b(r=>({...r,[e]:!r[e]}))},$=e=>{b(r=>({...r,profileVisibility:e}))},q=()=>{var e,r;if(!T.provider)return void alert("Please select a provider");let t={id:Date.now().toString(),type:T.type,provider:T.provider,isDefault:0===J.length};"mobile_money"===T.type?t.phoneNumber=T.phoneNumber:"bank_account"===T.type?(t.accountName=T.accountName,t.lastFour=null==(e=T.accountName)?void 0:e.slice(-4)):"card"===T.type&&(t.lastFour=null==(r=T.cardNumber)?void 0:r.slice(-4)),K(e=>[...e,t]),E(!1),I({type:"mobile_money",provider:"",phoneNumber:"",accountName:"",cardNumber:"",expiryDate:"",cvv:""}),alert("Payment method added successfully!")},W=e=>{K(r=>r.map(r=>({...r,isDefault:r.id===e})))},X=e=>{var r;if(null==(r=J.find(r=>r.id===e))?void 0:r.isDefault)return void alert("Cannot delete default payment method. Please set another method as default first.");K(r=>r.filter(r=>r.id!==e)),alert("Payment method deleted successfully!")},Q=async()=>{try{let e=i.Z.getAccessToken(),r=await fetch("https://core-api.ddin.rw/v1/agency/profile/two-factor",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({enable:!D})});if(r.ok){let e=await r.json();e.success?(O(!D),alert("Two-factor authentication ".concat(D?"disabled":"enabled"," successfully!"))):alert(e.message||"Failed to update two-factor authentication")}else throw Error("Failed to update two-factor authentication")}catch(e){console.error("Error updating two-factor authentication:",e),alert("Failed to update two-factor authentication. Please try again.")}},ee=[{id:"profile",label:"Profile",icon:(0,a.jsx)(n.JXP,{})},{id:"security",label:"Security",icon:(0,a.jsx)(n.F5$,{})},{id:"appearance",label:"Appearance",icon:(0,a.jsx)(n.hkc,{})},{id:"notifications",label:"Notifications",icon:(0,a.jsx)(n.zd,{})},{id:"privacy",label:"Privacy",icon:(0,a.jsx)(n.pcC,{})},{id:"payment",label:"Payment Methods",icon:(0,a.jsx)(n.lZI,{})},{id:"language",label:"Language",icon:(0,a.jsx)(n.VeH,{})},{id:"help",label:"Help & Support",icon:(0,a.jsx)(n.lrG,{})}];return(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 md:p-6",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"md:flex",children:[(0,a.jsxs)("div",{className:"md:w-64 md:border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your account preferences"})]}),(0,a.jsx)("nav",{className:"p-4",children:(0,a.jsx)("ul",{className:"space-y-2",children:ee.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)("button",{onClick:()=>d(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition ".concat(t===e.id?"bg-[#ff6600] text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,a.jsx)("span",{className:"text-lg",children:e.icon}),(0,a.jsx)("span",{children:e.label})]})},e.id))})})]}),(0,a.jsx)("div",{className:"flex-1 p-6",children:(0,a.jsx)(l.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:(()=>{switch(t){case"profile":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),(0,a.jsxs)("button",{onClick:()=>P(!S),className:"flex items-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65c00] text-white rounded-lg transition",children:[S?(0,a.jsx)(n.Bc_,{className:"w-4 h-4"}):(0,a.jsx)(n.SG1,{className:"w-4 h-4"}),S?"Save Changes":"Edit Profile"]})]}),!S&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:F.firstName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:F.lastName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:F.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:F.phoneNumber})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agency Name"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:F.agencyName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agency Code"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:F.agencyCode})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("active"===F.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:F.status})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role"}),(0,a.jsx)("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white capitalize",children:F.role})]})]})]}),S&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),(0,a.jsx)("input",{type:"text",name:"firstName",value:M.firstName,onChange:L,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),(0,a.jsx)("input",{type:"text",name:"lastName",value:M.lastName,onChange:L,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",value:M.email,onChange:L,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",name:"phoneNumber",value:M.phoneNumber,onChange:L,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{className:"md:col-span-2 flex gap-3",children:[(0,a.jsx)("button",{onClick:Z,className:"bg-[#ff6600] hover:bg-[#e65c00] text-white px-6 py-2 rounded-lg transition",children:"Save Changes"}),(0,a.jsx)("button",{onClick:()=>P(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition",children:"Cancel"})]})]})]});case"security":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Change Password"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:f?"text":"password",name:"currentPassword",value:A.currentPassword,onChange:V,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white pr-10"}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>N(!f),children:f?(0,a.jsx)(n._NO,{}):(0,a.jsx)(n.Vap,{})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:j?"text":"password",name:"newPassword",value:A.newPassword,onChange:V,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white pr-10"}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>k(!j),children:j?(0,a.jsx)(n._NO,{}):(0,a.jsx)(n.Vap,{})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:v?"text":"password",name:"confirmPassword",value:A.confirmPassword,onChange:V,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white pr-10"}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>w(!v),children:v?(0,a.jsx)(n._NO,{}):(0,a.jsx)(n.Vap,{})})]})]})]}),(0,a.jsx)("button",{onClick:B,className:"bg-[#ff6600] hover:bg-[#e65c00] text-white px-6 py-2 rounded-lg transition",children:"Update Password"}),(0,a.jsxs)("div",{className:"pt-6 mt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Two-Factor Authentication"}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:D?"2FA is enabled":"2FA is disabled"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D?"Your account is protected with two-factor authentication":"Add an extra layer of security to your account"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:D,onChange:Q,className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#ff6600]"})]})]})]})]});case"appearance":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Appearance"}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[o?(0,a.jsx)(n.hkc,{className:"text-[#ff6600]"}):(0,a.jsx)(n.Wh$,{className:"text-[#ff6600]"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Dark Mode"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o?"Dark theme is enabled":"Light theme is enabled"})]})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:()=>c(!o),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#ff6600]"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Font Size"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["small","medium","large"].map(e=>(0,a.jsx)("button",{onClick:()=>m(e),className:"py-2 px-4 border rounded-lg text-center transition capitalize ".concat(g===e?"border-[#ff6600] bg-[#ff6600] text-white":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"),children:e},e))})]})]});case"notifications":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Notification Preferences"}),Object.entries(h).map(e=>{let[r,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white capitalize",children:r.replace(/([A-Z])/g," $1").trim()}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t?"Enabled":"Disabled"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:t,onChange:()=>G(r),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#ff6600]"})]})]},r)})]});case"privacy":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Privacy Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Profile Visibility"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["public","private","contacts"].map(e=>(0,a.jsx)("button",{onClick:()=>$(e),className:"py-2 px-4 border rounded-lg text-center transition capitalize ".concat(y.profileVisibility===e?"border-[#ff6600] bg-[#ff6600] text-white":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"),children:e},e))})]}),Object.entries(y).filter(e=>{let[r]=e;return"profileVisibility"!==r}).map(e=>{let[r,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white capitalize",children:r.replace(/([A-Z])/g," $1").trim()}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t?"Enabled":"Disabled"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:t,onChange:()=>H(r),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#ff6600]"})]})]},r)})]})]});case"payment":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),(0,a.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65c00] text-white rounded-lg transition",children:[(0,a.jsx)(n.GGD,{className:"w-4 h-4"}),"Add Payment Method"]})]}),C&&(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Add New Payment Method"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,a.jsxs)("select",{name:"type",value:T.type,onChange:R,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,a.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,a.jsx)("option",{value:"bank_account",children:"Bank Account"}),(0,a.jsx)("option",{value:"card",children:"Credit/Debit Card"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Provider"}),(0,a.jsx)("input",{type:"text",name:"provider",value:T.provider,onChange:R,placeholder:"mobile_money"===T.type?"e.g., MTN, Airtel":"bank_account"===T.type?"e.g., Bank of Kigali":"e.g., Visa, MasterCard",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),"mobile_money"===T.type&&(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",name:"phoneNumber",value:T.phoneNumber,onChange:R,placeholder:"0781234567",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),"bank_account"===T.type&&(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Name"}),(0,a.jsx)("input",{type:"text",name:"accountName",value:T.accountName,onChange:R,placeholder:"John Doe",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),"card"===T.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Card Number"}),(0,a.jsx)("input",{type:"text",name:"cardNumber",value:T.cardNumber,onChange:R,placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expiry Date"}),(0,a.jsx)("input",{type:"text",name:"expiryDate",value:T.expiryDate,onChange:R,placeholder:"MM/YY",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CVV"}),(0,a.jsx)("input",{type:"text",name:"cvv",value:T.cvv,onChange:R,placeholder:"123",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff6600] focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:q,className:"bg-[#ff6600] hover:bg-[#e65c00] text-white px-6 py-2 rounded-lg transition",children:"Add Method"}),(0,a.jsx)("button",{onClick:()=>E(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition",children:"Cancel"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:J.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-[#ff6600] rounded-lg flex items-center justify-center",children:(0,a.jsx)(n.lZI,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white capitalize",children:[e.type.replace("_"," ")," - ",e.provider]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["mobile_money"===e.type&&e.phoneNumber&&"Phone: ".concat(e.phoneNumber),"bank_account"===e.type&&e.accountName&&"Account: ".concat(e.accountName),"card"===e.type&&e.lastFour&&"Card: **** ".concat(e.lastFour)]}),e.isDefault&&(0,a.jsx)("span",{className:"inline-block mt-1 px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs rounded",children:"Default"})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:!e.isDefault&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>W(e.id),className:"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Set as default",children:(0,a.jsx)(n.YrT,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>X(e.id),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete",children:(0,a.jsx)(n.IXo,{className:"w-4 h-4"})})]})})]},e.id))})]});case"language":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Language Preferences"}),(0,a.jsx)("div",{className:"space-y-4",children:Y.map(e=>(0,a.jsxs)("button",{onClick:()=>x(e.code),className:"w-full flex items-center justify-between p-4 rounded-lg transition ".concat(u===e.code?"bg-[#ff6600] text-white":"bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm opacity-75",children:e.nativeName})]}),u===e.code&&(0,a.jsx)(n.YrT,{className:"w-5 h-5"})]},e.code))})]});case"help":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Help & Support"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Contact Support"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Get help from our support team"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("p",{children:["\uD83D\uDCDE ",(0,a.jsx)("strong",{children:"Phone:"})," +250 788 123 456"]}),(0,a.jsxs)("p",{children:["✉️ ",(0,a.jsx)("strong",{children:"Email:"})," support@xpay.com"]}),(0,a.jsxs)("p",{children:["\uD83D\uDCAC ",(0,a.jsx)("strong",{children:"Live Chat:"})," Available 24/7"]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"FAQ"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Frequently asked questions"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsx)("p",{children:"• How to reset password?"}),(0,a.jsx)("p",{children:"• How to update profile?"}),(0,a.jsx)("p",{children:"• Transaction issues?"}),(0,a.jsx)("p",{children:"• Commission queries?"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg md:col-span-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Documentation"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"User guides and documentation"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{className:"bg-[#ff6600] hover:bg-[#e65c00] text-white px-4 py-2 rounded-lg text-sm transition",children:"User Guide"}),(0,a.jsx)("button",{className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition",children:"API Documentation"})]})]})]})]});default:return(0,a.jsx)("div",{children:"Select a settings category"})}})()},t)})]})})})}},74436:(e,r,t)=>{"use strict";t.d(r,{k5:()=>c});var a=t(12115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=a.createContext&&a.createContext(s),n=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach(function(r){var a,s,l;a=e,s=r,l=t[r],(s=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,r||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(s))in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function c(e){return r=>a.createElement(g,i({attr:o({},e.attr)},r),function e(r){return r&&r.map((r,t)=>a.createElement(r.tag,o({key:t},r.attr),e(r.child)))}(e.child))}function g(e){var r=r=>{var t,{attr:s,size:l,title:d}=e,c=function(e,r){if(null==e)return{};var t,a,s=function(e,r){if(null==e)return{};var t={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,n),g=l||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,c,{className:t,style:o(o({color:e.color||r.color},r.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),d&&a.createElement("title",null,d),e.children)};return void 0!==l?a.createElement(l.Consumer,null,e=>r(e)):r(s)}},91541:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,AuthProvider:()=>o,Z:()=>d});var a=t(95155),s=t(12115),l=t(35695);let n=(0,s.createContext)(void 0);class i{encrypt(e){try{return btoa(encodeURIComponent(e))}catch(e){throw Error("Encryption failed")}}decrypt(e){try{return decodeURIComponent(atob(e))}catch(e){throw this.clearUserData(),Error("Invalid token data")}}setUserData(e){try{let r={accessToken:e.accessToken,refreshToken:e.refreshToken,expiresAt:Date.now()+36e5},t=this.encrypt(JSON.stringify(r));sessionStorage.setItem(this.ACCESS_TOKEN_KEY,t);let{accessToken:a,refreshToken:s,...l}=e,n=this.encrypt(JSON.stringify(l));sessionStorage.setItem(this.USER_DATA_KEY,n)}catch(e){this.clearUserData()}}getUserData(){try{let e=sessionStorage.getItem(this.USER_DATA_KEY);if(!e)return null;return JSON.parse(this.decrypt(e))}catch(e){return this.clearUserData(),null}}getAccessToken(){try{let e=sessionStorage.getItem(this.ACCESS_TOKEN_KEY);if(!e)return null;let r=JSON.parse(this.decrypt(e));if(Date.now()>r.expiresAt)return this.clearUserData(),null;return r.accessToken}catch(e){return this.clearUserData(),null}}clearUserData(){sessionStorage.removeItem(this.ACCESS_TOKEN_KEY),sessionStorage.removeItem(this.USER_DATA_KEY)}isAuthenticated(){return!!this.getAccessToken()}constructor(){this.ACCESS_TOKEN_KEY="at",this.USER_DATA_KEY="ud"}}let d=new i;function o(e){let{children:r}=e,[t,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0),g=(0,l.useRouter)();(0,s.useEffect)(()=>{setTimeout(()=>{try{let e=d.getUserData();d.isAuthenticated()&&e?i(e):(d.clearUserData(),i(null))}catch(e){d.clearUserData(),i(null)}finally{c(!1)}},100)},[]);let m={user:t,isLoading:o,isAuthenticated:!!t&&d.isAuthenticated(),login:e=>{d.setUserData(e),i(e)},logout:()=>{d.clearUserData(),i(null),g.push("/login")}};return(0,a.jsx)(n.Provider,{value:m,children:r})}function c(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[844,5430,8441,1317,7358],()=>r(48163)),_N_E=e.O()}]);